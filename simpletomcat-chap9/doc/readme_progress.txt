20201208
距离上次开发chap9工程(20201121)，又过去1个多月了。
这固然有软考的因素(20201111)，也有身体因素(20201213)。
但是这些都不是理由。
现在行里已经在推广tomcat，在BCD类系统中推广了。
随着容器化的推进，后续tomcat在行里的应用，会越来越广。这很明显是一个趋势。
从源码层级理解tomcat的架构，当然是很有必要的。

现在又要重新启动tomcat源码学习了。

20210117
之前一段时间，在看http权威指南，主要关注了connection和entity相关内容。
这些HTTP规范的特性，其实都可以在tomcat中实现。
后续可以考虑在我们的tomcat版本中实现一下试试。

今天又开始研究session内容了。



20200226
怎么说呢？感觉好像是进入了倦怠期。
本来前一段时间开发session这块内容，进度还可以。包括2021农历新年期间、包括前后的几个周末，都有很大的收获。
回顾一下20210117，到现在已一个多月了。在这1个月的时间内，实现了session主题，进度还是挺满意的。

Session作为tomcat的一个重点，还是比较重要的。花点时间在这个主题上，还是很值得的。但是为啥会感到厌倦呢？

目前的进度是这样的，Session基本功能已经实现，已经能够实现session的正常使用了。包括session信息在客户端、服务端之间的交互、session的定期失效(Expire)等等。
上周实现了FileStore功能，能够将session信息持久化了。
但是这块内容还没验证完毕。
现在卡在验证这块了。
说白了，这是一个非功能需求。主要是应对大并发session超多的场景。

这个倦怠的感觉其实很正常。我们在跑步的时候也经常会碰到，就是碰到了瓶颈期。如果能够迈过这道坎，就能够实现一个提升。

如果能够度过这段时间，能够得到的收获有：
1.为后续RedisStore的开发、验证打下基础；
2.为Session整个功能做一个首尾；
3.第一次采用simpletomcat的架构开发，还是挺不错的，可以放手修改之前的代码。没有tomcatwin架构下那种束手束脚的感觉。
4.给自己增加了实践的经验。就是在面对大型项目开发的时候，会碰到瓶颈期、倦怠期。整个项目的进展并不是线性的。而是一道曲线，可能一开始大家初生牛犊不怕虎，一开始进度比较快，然后项目到了一定的进展，达到了一定的规模，或者碰到某个难啃的技术点，就会陷入一定的倦怠期。
5.项目的难点，就在于那些非功能需求，以及对应的测试。因为这些功能没有明确的需求，没有直观的指标。比如session的持久化需求，做的怎么样才算是完美呢？到底要支持多少客户端并发session访问呢？都没有一定的标准。

如何应对这段倦怠期呢？我觉得总结来说就是：寻找初心
回顾一下从2019年8月开始提交的代码，到现在已经坚持了一年半的时间，也挺不容易的。现在可以静下心来想想，我做这个事情到底是为了什么？在这一年半的时间里，我收获了哪些东西？领悟了哪些东西？
当然，经过这次瓶颈期，也许是要给自己放个假了。

20210227
今天主要是解决StoreBase处理持久化session的BUG。
处理得不是很顺利，因为这些非功能的需求，测试起来很麻烦。

20210306
今天终于解决了pending null session的问题，这样session这章大部分内容就解决了。
后续就是参考FileStore，实现JDBCStore/RedisStore了
心中大为畅快

20210307
今天解决了session相关的2个BUG。
对这个session作了回顾总结。

后续看看Cluster session相关的内容。
借此机会可以了解一下集群同步的相关主题。

20210505
今天把ClusterInfoSender、ClusterInfoReceiver调通了，还不错。

20210507
今天把SessionInfoSender/SessionInfoReceiver写好了，同时也调试通了

下一步计划
1.把ClusterInfoSender/ClusterInfoReceiver
和SessionInfoSender/SessionInfoReceiver这两组收发程序在同一个组播地址中测试
通过senderId进行分组

2.通过虚拟机，模拟由多个节点组成的集群，进行测试
考察在多个节点的场景下，通过UDP收发消息是否正常，效率是否高。
是否能够承受高并发的压力

3.尝试将UDP的通信方式改为TCP，比对在高并发场景下的效率

4.总结一下object对象在网络间传输的最佳实践
这个应该和Serialize接口有关，后续可以深入研究一下
研究通用对象的传输方案

5.尝试将ClusterInfo/session对象在集群中传输的功能，在SimpleTomcat中调试一下

20210619
最近在尝试把我们的tomcat工程打包
打成Jar包，这样我们可以把tomcat部署到各个服务器上去组成一个集群
用来验证我们的tomcat cluster 集群功能

具体可以参考：
/Users/zhoushuo/Documents/workspace/TomcatWin/doc/测试案例/
9003_验证分布式集群同步节点的功能.docx

这个文档详细说明了我们验证的背景、环境、步骤、以及目前碰到的困难


20200620
处理tomcat打包的问题，已经持续好久了，至少有几个星期了。
这样一个看起来很容易解决的问题，处理了这么久都没有搞定。
这说明了什么呢？
1.实际和理论还是有很大的差距
我们非常轻视乃至于痛恨那些作为的清流派。
典型的特点就是理论上滔滔不绝，但是实操层面一塌糊涂。
因此，对于自己，要少说多做，实事求是。
要求别人做到XXX，必须自己先验证一下、自己先做一遍。
对于别人，我们要多看看他做了什么，而不是说了什么。
对于理论、规章制度这些纸面上的东西，我们要独立思考，看看是否具有可行性。






